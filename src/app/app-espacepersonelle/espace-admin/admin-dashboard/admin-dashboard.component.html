<div class="container-fluid p-4">
  <h1 class="mb-4">Tableau de bord Administrateur</h1>

  <!-- Ligne 1 : Accès rapide aux gestions -->
  <div class="row g-4 mt-4 align-items-center">
    <!-- Tableau résumé avec fond bleu -->
    <div class="col-lg-8">
      <table class="table table-striped table-primary shadow-sm">
        <thead>
        <tr>
          <th scope="col">Type</th>
          <th scope="col" class="text-center">Nombre total</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>Parents</td>
          <td class="text-center fs-4 fw-bold">{{ totalParents }}</td>
        </tr>
        <tr>
          <td>Candidats</td>
          <td class="text-center fs-4 fw-bold">{{ totalCandidats }}</td>
        </tr>
        <tr>
          <td>Structures</td>
          <td class="text-center fs-4 fw-bold">{{ totalStructures }}</td>
        </tr>
        <tr>
          <td>Employés</td>
          <td class="text-center fs-4 fw-bold">{{ totalEmployes }}</td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Boutons à droite avec chiffres en grand -->
    <div class="col-lg-4 d-flex flex-column gap-3">


      <button
        class="btn btn-outline-primary d-flex justify-content-between align-items-center shadow-sm"
        (click)="navigateToParents()"
      >
        <span>Gérer les parents</span>
        <span class="badge bg-warning text-dark fs-3">{{ totalParents }}</span>
      </button>

      <button
        class="btn btn-outline-success d-flex justify-content-between align-items-center shadow-sm"
        (click)="navigateToCandidats()"
      >
        <span>Gérer les candidats</span>
        <span class="badge bg-success fs-3">{{ totalCandidats }}</span>
      </button>

      <button
        class="btn btn-outline-warning d-flex justify-content-between align-items-center shadow-sm"
        (click)="navigateToStructure()"
      >
        <span>Gérer les structures</span>
        <span class="badge bg-warning text-dark fs-3">{{ totalStructures }}</span>
      </button>

      <button
        class="btn btn-outline-info d-flex justify-content-between align-items-center shadow-sm"
        (click)="navigateToEmployes()"
      >
        <span>Gérer les employés</span>
        <span class="badge bg-info fs-3">{{ totalEmployes }}</span>
      </button>
    </div>
  </div>

  <!-- Ligne 2 : Activités récentes (pleine largeur) -->
  <div class="row g-4 mt-4">
    <div class="col-12">
      <div class="card shadow-sm">
        <div class="card-header bg-light">
          <h5 class="mb-0">Activités récentes</h5>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <strong>Nouveaux candidats</strong>
            <ul *ngIf="activitesRecentes.candidats.length" class="mt-2">
              <li *ngFor="let candidat of activitesRecentes.candidats">
                {{ candidat.nom }} {{ candidat.prenom }} - {{ candidat.statut }}
              </li>
            </ul>
            <span *ngIf="!activitesRecentes.candidats.length" class="text-muted">Aucun candidat récent</span>
          </li>

          <li class="list-group-item">
            <strong>Structures mises à jour ou créées</strong>
            <ul *ngIf="activitesRecentes.structures.length" class="mt-2">
              <li *ngFor="let structure of activitesRecentes.structures">{{ structure }}</li>
            </ul>
            <span *ngIf="!activitesRecentes.structures.length" class="text-muted">Aucune structure récente</span>
          </li>

          <li class="list-group-item">
            <strong>Nouveaux parents</strong>
            <ul *ngIf="activitesRecentes.parents.length" class="mt-2">
              <li *ngFor="let parent of activitesRecentes.parents">
                {{ parent.firstName }} {{ parent.lastName }} - {{ parent.email }}
              </li>
            </ul>
            <span *ngIf="!activitesRecentes.parents.length" class="text-muted">Aucun parent récent</span>
          </li>

          <li class="list-group-item">
            <strong>Nouvels employés</strong>
            <ul *ngIf="activitesRecentes.employes.length" class="mt-2">
              <li *ngFor="let employe of activitesRecentes.employes">
                {{ employe.firstName }} {{ employe.lastName }} - {{ employe.role?.label || '—' }}
              </li>
            </ul>
            <span *ngIf="!activitesRecentes.employes.length" class="text-muted">Aucun employé récent</span>
          </li>


        </ul>
      </div>
    </div>
  </div>
</div>
